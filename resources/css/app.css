@import "tailwindcss";

/* Tailwind v4 content sources (Blade + JS) */
@source "../views/**/*.blade.php";
@source "../js/**/*.js";
@source "../js/**/*.ts";
@source "../js/**/*.tsx";

@layer base {
  html,
  body {
    width: 100%;
    min-height: 100%;
  }

  :root {
    --brand-500: 14 165 233;
    --brand-600: 2 132 199;
    --brand-700: 3 105 161;
    --surface-1: 255 255 255;
    --surface-2: 244 244 245;
  }

  body {
    font-family: "Inter", ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial, "Apple Color Emoji", "Segoe UI Emoji";
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    @apply bg-zinc-50 text-zinc-900;
    background-image:
      radial-gradient(1200px 500px at 8% -10%, rgba(14, 165, 233, 0.12), transparent 55%),
      radial-gradient(900px 420px at 95% -20%, rgba(3, 105, 161, 0.07), transparent 52%);
  }

  a { @apply text-zinc-900; }

  label { @apply text-sm font-extrabold text-zinc-700; }

  input,
  select,
  textarea {
    @apply w-full rounded-2xl border border-zinc-200 bg-white px-3 py-2 text-sm outline-none
      focus:ring-2 focus:ring-sky-200 focus:border-sky-300;
  }

  /* Select global: look consistente en toda la app (filtros/forms admin y tienda) */
  select,
  form select,
  .card select {
    appearance: none;
    -webkit-appearance: none;
    -moz-appearance: none;
    cursor: pointer;
    border-width: 1px;
    border-style: solid;
    border-color: rgb(228 228 231);
    border-radius: 0.9rem;
    background-color: rgb(255 255 255);
    color: rgb(24 24 27);
    font-weight: 600;
    line-height: 1.25rem;
    box-shadow: 0 1px 2px rgba(15, 23, 42, 0.05);
    padding-right: 2.5rem;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='18' height='18' viewBox='0 0 20 20' fill='none'%3E%3Cpath d='M5.7 7.5a1 1 0 0 1 1.4 0L10 10.4l2.9-2.9a1 1 0 1 1 1.4 1.4l-3.6 3.6a1 1 0 0 1-1.4 0L5.7 8.9a1 1 0 0 1 0-1.4Z' fill='%236b7280'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right 0.75rem center;
    background-size: 1rem 1rem;
    transition: border-color 180ms ease, box-shadow 180ms ease, background-color 180ms ease, transform 160ms ease;
  }

  select:hover:not(:disabled),
  form select:hover:not(:disabled),
  .card select:hover:not(:disabled) {
    border-color: rgb(212 212 216);
    background-color: rgb(250 250 250);
  }

  select:focus,
  form select:focus,
  .card select:focus {
    outline: none;
    border-color: rgb(125 211 252);
    box-shadow: 0 0 0 3px rgba(125, 211, 252, 0.35);
    background-color: rgb(255 255 255);
  }

  select:disabled,
  form select:disabled,
  .card select:disabled {
    @apply cursor-not-allowed bg-zinc-100 text-zinc-500;
    box-shadow: none;
  }

  select::-ms-expand { display: none; }

  /* No aplicar flecha custom a selects complejos */
  select[multiple],
  select[size]:not([size="1"]) {
    appearance: auto;
    -webkit-appearance: auto;
    -moz-appearance: auto;
    background-image: none;
    padding-right: 0.75rem;
  }

  /* Custom select global (reemplaza UI nativa visible) */
  .nr-select {
    position: relative;
    width: 100%;
  }

  .nr-select-native {
    position: absolute !important;
    inset: 0 !important;
    opacity: 0 !important;
    pointer-events: none !important;
    height: 100% !important;
    width: 100% !important;
  }

  .nr-select-trigger {
    @apply w-full h-11 rounded-2xl border border-zinc-200 bg-white px-3 text-left text-sm font-semibold text-zinc-900;
    padding-right: 2.5rem;
    box-shadow: 0 1px 2px rgba(15, 23, 42, 0.05);
    transition: border-color 180ms ease, box-shadow 180ms ease, background-color 180ms ease;
  }

  .nr-select-trigger:hover:not(:disabled) {
    @apply border-zinc-300 bg-zinc-50;
  }

  .nr-select-trigger:focus-visible {
    outline: none;
    border-color: rgb(125 211 252);
    box-shadow: 0 0 0 3px rgba(125, 211, 252, 0.35);
    background-color: rgb(255 255 255);
  }

  .nr-select.is-disabled .nr-select-trigger {
    @apply cursor-not-allowed bg-zinc-100 text-zinc-500;
    box-shadow: none;
  }

  .nr-select-label {
    @apply block truncate;
  }

  .nr-select-caret {
    position: absolute;
    right: 0.85rem;
    top: 50%;
    width: 1rem;
    height: 1rem;
    transform: translateY(-50%);
    pointer-events: none;
    transition: transform 160ms ease;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='18' height='18' viewBox='0 0 20 20' fill='none'%3E%3Cpath d='M5.7 7.5a1 1 0 0 1 1.4 0L10 10.4l2.9-2.9a1 1 0 1 1 1.4 1.4l-3.6 3.6a1 1 0 0 1-1.4 0L5.7 8.9a1 1 0 0 1 0-1.4Z' fill='%236b7280'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: center;
    background-size: 1rem 1rem;
  }

  .nr-select.is-open .nr-select-caret {
    transform: translateY(-50%) rotate(180deg);
  }

  .nr-select-menu {
    @apply absolute left-0 right-0 z-50 mt-1 rounded-2xl border border-zinc-200 bg-white p-1 shadow-xl;
    max-height: 15rem;
    overflow-y: auto;
  }

  .nr-select-option {
    @apply w-full rounded-xl px-3 py-2 text-left text-sm font-semibold text-zinc-800 transition-colors;
  }

  .nr-select-option:hover:not(.is-disabled),
  .nr-select-option:focus-visible:not(.is-disabled) {
    @apply bg-zinc-100 text-zinc-900 outline-none;
  }

  .nr-select-option.is-selected {
    @apply bg-sky-50 text-sky-800;
  }

  .nr-select-option.is-disabled {
    @apply text-zinc-400 cursor-not-allowed;
  }
  /* Anti-jitter SIN romper el sidebar:
    NO usar transform en el header (afecta a los fixed del overlay/sidebar) */
  body > header.sticky > .container-page{
    transform: translateZ(0);
    backface-visibility: hidden;
  }


}

@layer components {
  /* =========================
     Layout / Containers
  ========================== */
  .container-page { @apply mx-auto max-w-6xl px-4; }

  /* Mobile: más ancho útil (menos “margen” a los lados) */
  @media (max-width: 640px){
    .container-page{
      padding-left: 5px;
      padding-right: 5px;
    }
  }
  /* Desktop: apenas más ancho que max-w-6xl (72rem) */
  @media (min-width: 1024px){
    .container-page{
      max-width: 76rem;
    }
  }

  .page-head { @apply flex flex-col gap-2 md:flex-row md:items-end md:justify-between mb-4; }
  .page-title { @apply text-xl md:text-2xl font-black tracking-tight; }
  .page-subtitle { @apply text-sm text-zinc-600; }

  /* =========================
     Cards
  ========================== */
  .card {
    @apply bg-white border border-zinc-100 rounded-2xl;
    box-shadow: 0 8px 30px -18px rgba(15, 23, 42, 0.28);
  }
  .card-head { @apply px-4 py-3 border-b border-zinc-100 flex items-center justify-between gap-2; }
  .card-body { @apply p-4; }

  /* =========================
     Buttons
     (Tailwind v4: NO @apply a clases custom como "btn")
  ========================== */
  .btn,
  .btn-primary,
  .btn-outline,
  .btn-ghost {
    @apply inline-flex items-center justify-center gap-2 rounded-2xl px-4 py-2 text-sm font-extrabold
      border border-transparent transition-all duration-200 ease-out active:scale-[0.98]
      focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-200 focus-visible:ring-offset-2;
    transform: translateY(0);
  }

  .btn-sm { @apply px-3 py-1.5 text-xs rounded-xl; }

  .btn-primary {
    @apply text-white;
    background-color: rgb(var(--brand-600));
    border-color: rgb(var(--brand-600));
    background-image: linear-gradient(180deg, rgba(var(--brand-500), 1), rgba(var(--brand-600), 1));
    box-shadow: 0 10px 20px -12px rgba(2, 132, 199, 0.65);
  }
  .btn-primary:hover {
    background-color: rgb(var(--brand-700));
    border-color: rgb(var(--brand-700));
    background-image: linear-gradient(180deg, rgba(var(--brand-600), 1), rgba(var(--brand-700), 1));
  }
  .btn-primary:disabled,
  .btn-primary[aria-disabled="true"] {
    @apply cursor-not-allowed;
    background-color: rgb(161 161 170);
    border-color: rgb(161 161 170);
    background-image: none;
    box-shadow: none;
  }
  .btn-outline { @apply bg-white border-zinc-200 hover:bg-zinc-50; }
  .btn-ghost { @apply bg-transparent hover:bg-zinc-100; }
  .btn-primary:hover,
  .btn-outline:hover { transform: translateY(-1px); }
  .btn-ghost:hover { transform: translateY(-0.5px); }

  /* Icon buttons (base) */
  .icon-btn,
  .btn-cart {
    @apply inline-flex items-center justify-center h-10 w-10 rounded-xl border border-zinc-200 bg-white hover:bg-zinc-50
      transition-all duration-200 ease-out;
    transform: translateY(0);
  }
  .icon-btn:hover,
  .btn-cart:hover { transform: translateY(-1px); }

  /* btn-cart (tienda) */
  .btn-cart { @apply text-sky-700 hover:text-sky-800; }
  .btn-cart svg {
    width: 20px;
    height: 20px;
    display: block;
  }
  .btn-cart.is-disabled {
    @apply opacity-50 cursor-not-allowed hover:bg-white hover:text-sky-700;
  }

  /* =========================
     Badges
     (Tailwind v4: NO @apply a "badge")
  ========================== */
  .badge,
  .badge-zinc,
  .badge-sky,
  .badge-amber,
  .badge-emerald,
  .badge-rose,
  .badge-indigo {
    @apply inline-flex items-center rounded-full px-2.5 py-1 text-xs font-black border;
  }

  .badge-zinc { @apply bg-zinc-50 text-zinc-800 border-zinc-200; }
  .badge-sky { @apply bg-sky-50 text-sky-900 border-sky-200; }
  .badge-amber { @apply bg-amber-50 text-amber-900 border-amber-200; }
  .badge-emerald { @apply bg-emerald-50 text-emerald-900 border-emerald-200; }
  .badge-rose { @apply bg-rose-50 text-rose-900 border-rose-200; }
  .badge-indigo { @apply bg-indigo-50 text-indigo-900 border-indigo-200; }

  /* Badge stock (tienda) */
  .badge-stock {
    @apply inline-flex items-center rounded-full px-2.5 py-1 text-xs font-black border;
  }
  .badge-stock.is-in { @apply bg-emerald-50 text-emerald-900 border-emerald-200; }
  .badge-stock.is-out { @apply bg-rose-50 text-rose-900 border-rose-200; }

  /* =========================
     Alerts
     (Tailwind v4: NO @apply a "alert")
  ========================== */
  .alert,
  .alert-success,
  .alert-error,
  .alert-warning {
    @apply rounded-2xl border px-4 py-3 text-sm font-semibold;
  }

  .alert-success { @apply bg-emerald-50 text-emerald-900 border-emerald-200; }
  .alert-error { @apply bg-rose-50 text-rose-900 border-rose-200; }
  .alert-warning { @apply bg-amber-50 text-amber-900 border-amber-200; }

  /* =========================
     Tables
  ========================== */
  .table-wrap { @apply overflow-x-auto; }
  .table { @apply w-full text-sm; }
  .table thead { @apply bg-zinc-50 text-xs uppercase text-zinc-500; }
  .table th { @apply px-3 py-2 text-left font-black; }
  .table td { @apply px-3 py-2; }
  .table tbody { @apply divide-y divide-zinc-100; }

  /* =========================
     Navbar / Pills
  ========================== */
  .nav-link { @apply text-sm font-extrabold text-zinc-700 hover:text-zinc-900; }

  .nav-pill {
    @apply inline-flex items-center gap-2 rounded-full px-3 py-2 text-xs font-black
      border border-zinc-200 bg-white hover:bg-zinc-50;
  }
  .nav-pill-active { @apply border-sky-300 bg-sky-50 text-sky-900; }

  /* =========================
     Dropdown
  ========================== */
  .dropdown { @apply relative; }
  .dropdown-menu {
    @apply absolute right-0 mt-2 w-56 rounded-2xl border border-zinc-200 bg-white shadow-lg p-2 z-50;
    max-height: min(72dvh, 30rem);
    overflow-y: auto;
    overscroll-behavior: contain;
    -webkit-overflow-scrolling: touch;
    transform-origin: top right;
    opacity: 0;
    transform: translateY(-6px) scale(0.98);
    pointer-events: none;
    transition: opacity 170ms ease, transform 170ms ease;
  }
  .dropdown-menu.is-open {
    opacity: 1;
    transform: translateY(0) scale(1);
    pointer-events: auto;
  }
  .dropdown-menu::-webkit-scrollbar { width: 8px; }
  .dropdown-menu::-webkit-scrollbar-thumb {
    background: #d4d4d8;
    border-radius: 999px;
  }
  .dropdown-menu::-webkit-scrollbar-track { background: transparent; }
  @media (max-width: 640px) {
    .dropdown-menu { width: min(90vw, 18rem); }
  }
  .dropdown.open .dropdown-menu { @apply block; }
  .dropdown-item {
    @apply block px-3 py-2 rounded-xl text-sm font-semibold hover:bg-zinc-100
      transition-colors duration-150 ease-out;
  }

  /* =========================
     SIDEBAR MOBILE (Hamburguesa) — Moderno y ordenado
  ========================== */
  .sidebar-sub { @apply text-xs text-zinc-500; }

  .sidebar-title {
    @apply px-1 text-[11px] font-black uppercase tracking-wider text-zinc-500;
  }

  .sidebar-section {
    @apply rounded-3xl bg-zinc-50/80 ring-1 ring-zinc-200 p-2;
  }

  .sidebar-links { @apply grid gap-1; }

  .sidebar-link {
    @apply w-full flex items-center rounded-2xl px-3 py-2 text-sm font-extrabold text-zinc-800
      hover:bg-white/80 hover:text-zinc-900 transition-colors
      focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-200 focus-visible:ring-offset-2 focus-visible:ring-offset-zinc-50;
  }

  .sidebar-link.active {
    @apply bg-white text-sky-700 ring-1 ring-sky-200 shadow-sm;
  }

  .sidebar-link img { @apply w-5 h-5 shrink-0; }
  .sidebar-link.text-rose-700:hover { @apply bg-rose-50; }

  /* =========================
     TIENDA — Product Card UI
  ========================== */
  .product-card {
    @apply flex flex-col overflow-hidden rounded-2xl border border-zinc-200 bg-white transition;
    box-shadow: 0 10px 24px -20px rgba(15, 23, 42, 0.5);
    transition-property: transform, box-shadow, border-color, opacity;
    transition-duration: 220ms;
    transition-timing-function: ease;
  }

  .product-card:hover {
    transform: translateY(-2px);
    border-color: rgb(186 230 253);
    box-shadow: 0 14px 32px -20px rgba(14, 116, 144, 0.45);
  }

  .product-image {
    @apply block w-full bg-zinc-50 overflow-hidden;
    height: 210px;
  }

  .product-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
    transition: transform 260ms ease;
  }

  .product-card:hover .product-image img {
    transform: scale(1.025);
  }

  .product-image-placeholder {
    @apply h-full w-full flex items-center justify-center text-sm font-extrabold text-zinc-500 bg-zinc-100;
  }

  .product-body { @apply p-4 flex flex-col gap-2; }
  .product-title { @apply font-black text-zinc-900 leading-snug hover:underline; }
  .product-meta { @apply text-xs font-semibold text-zinc-500; }

  .product-row { @apply mt-2 flex items-center justify-between gap-2; }
  .product-price { @apply text-lg font-black text-zinc-900; }
  .product-actions { @apply flex items-center gap-2; }

  /* =========================
     TIENDA — Cards en grilla (compactas)
     Para: productos comunes (2 cols móvil / 5 cols desktop)
  ========================== */
  .product-card-grid { height: 100%; }

  .product-card-grid .product-image{
    height: auto;
    aspect-ratio: 1 / 1;
  }

  .product-card-grid .product-image img{
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
  }

  .product-card-grid .product-body{
    display: flex;
    flex-direction: column;
    flex: 1;
    padding: 10px;
    gap: 6px;
  }

  .product-card-grid .product-title{
    font-size: 13px;
    line-height: 1.2;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 2;
    line-clamp: 2;
    overflow: hidden;
    min-height: calc(1.2em * 2);
  }

  .product-card-grid .product-meta{
    font-size: 11px;
    line-height: 1.1;
  }

  .product-card-grid .product-row{
    margin-top: auto;
    padding-top: 6px;
    display: flex;
    flex-direction: column;
    gap: 8px;
    align-items: stretch;
    width: 100%;
  }

  .product-card-grid .product-actions{
    display: flex;
    width: 100%;
    align-items: center;
    justify-content: space-between;
    gap: 8px;
  }

  .product-card-grid .product-price{
    font-size: 15px;
    font-weight: 800;
    text-align: left;
    align-self: flex-start;
  }

  .product-card-grid .badge-stock{
    font-size: 10px;
    padding: 2px 8px;
  }

  .product-card-grid .btn-cart{
    width: 34px;
    height: 34px;
    border-radius: 12px;
  }

  .product-card-grid .btn-cart svg{
    width: 18px;
    height: 18px;
  }

  /* =========================
     TIENDA — Destacados (compacto para carrusel) — CONSOLIDADO
     (mantiene el look actual y evita duplicados)
  ========================== */
  .product-card-featured .product-image{
    height: auto;
    aspect-ratio: 1 / 1;
  }

  .product-card-featured .product-body{
    padding: 12px;
    gap: 8px;
  }

  .product-card-featured .product-title{
    font-size: 14px;
    line-height: 1.2;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 2;
    line-clamp: 2;
    overflow: hidden;
    min-height: calc(1.2em * 2);
    margin: 0;
  }

  .product-card-featured .product-price{
    font-size: 16px;
    font-weight: 800;
  }

  .product-card-featured .product-row{
    margin-top: auto;
    display: flex;
    flex-direction: column;
    align-items: stretch;
    gap: 8px;
  }

  .product-card-featured .product-actions{
    width: 100%;
    display: flex;
    align-items: center;
    gap: 8px;
    flex-wrap: nowrap; /* clave: no bajar a otra línea */
  }

  .product-card-featured .product-actions .badge-stock{
    flex: 0 1 auto;      /* NO ocupa todo el ancho */
    white-space: nowrap; /* no parte "Stock" */
    max-width: calc(100% - 44px); /* deja espacio al botón */
    overflow: hidden;
    text-overflow: ellipsis;
  }
    @media (max-width: 640px){
    .product-card-featured .product-actions .badge-stock{
      display: none;
    }
  }



  /* El form no debe estirarse ni empujar */
  .product-card-featured .product-actions form{
    flex: 0 0 auto;
    margin: 0;
    margin-left: auto; /* clave: manda el carrito a la esquina derecha */
  }


  /* El botón queda siempre adentro y alineado a la derecha */
  .product-card-featured .product-actions .btn-cart{
    flex: 0 0 auto;
    margin-left: auto;
  }


  .product-card-featured .badge-stock{
    font-size: 10px;
    padding: 2px 8px;
    border-radius: 9999px;
  }

  .product-card-featured .btn-cart{
    height: 36px;
    width: 36px;
    border-radius: 12px;
  }

  .product-card-featured .btn-cart svg{
    width: 18px;
    height: 18px;
  }

  @media (max-width: 640px){
    .product-card-grid .product-body{
      padding: 12px;
      gap: 8px;
    }

    .product-card-grid .product-title{
      font-size: 14px;
    }

    .product-card-grid .product-price{
      font-size: 16px;
    }

    .product-card-grid .btn-cart,
    .product-card-featured .btn-cart{
      width: 40px;
      height: 40px;
      border-radius: 14px;
    }

    .product-card-grid .btn-cart svg,
    .product-card-featured .btn-cart svg{
      width: 20px;
      height: 20px;
    }
  }

  /* =========================
     Helpers / Legacy
  ========================== */
  .muted { @apply text-sm text-zinc-600; }

  .hero { @apply bg-white border border-zinc-100 rounded-2xl shadow-sm; }
  .hero-title { @apply text-xl md:text-2xl font-black tracking-tight; }
  .hero-text { @apply text-sm text-zinc-600; }

  .orders-list { @apply grid gap-3; }
  .order-card { @apply bg-white border border-zinc-100 rounded-2xl shadow-sm p-4; }

  /* =========================
     Scroll lock / Toast smooth
  ========================== */
  html { scrollbar-gutter: stable; }

  html.nr-scroll-lock,
  body.nr-scroll-lock { overflow: hidden; }

  body.nr-scroll-lock {
    padding-right: var(--nr-sbw, 0px);
    touch-action: none;
  }

  @media (prefers-reduced-motion: reduce) {
    .btn,
    .btn-primary,
    .btn-outline,
    .btn-ghost,
    .icon-btn,
    .btn-cart,
    .dropdown-menu,
    .dropdown-item,
    .product-card,
    .product-image img,
    .reveal-item {
      transition: none !important;
      transform: none !important;
    }
  }

  .nr-no-transition { transition: none !important; }
}
  .store-shell {
    @apply py-5 sm:py-7 md:py-8;
  }

  .store-shell--hero {
    padding-top: 0;
  }

  .store-hero {
    @apply rounded-3xl border border-sky-100 bg-white/90 p-4 sm:p-5;
    box-shadow: 0 16px 36px -26px rgba(2, 132, 199, 0.45);
  }

  .store-front-hero {
    position: relative;
    width: 100%;
    max-width: 100vw;
    height: 500px !important;
    min-height: 500px !important;
    max-height: 500px !important;
    margin-left: auto;
    margin-right: auto;
    border-radius: 1.5rem;
    overflow: hidden;
    box-shadow: none;
    background-color: rgb(var(--hero-fade-desktop, 14, 165, 233));
  }

  @media (max-width: 767px) {
    .store-front-hero {
      height: 300px !important;
      min-height: 300px !important;
      max-height: 300px !important;
    }
  }

  .store-front-hero__picture {
    position: absolute;
    inset: 0;
    display: block;
    width: 100% !important;
    height: 100% !important;
    min-width: 100%;
    min-height: 100%;
  }

  .store-front-hero__media {
    position: absolute;
    inset: 0;
    display: block;
    width: 100% !important;
    height: 100% !important;
    min-width: 100%;
    min-height: 100%;
    max-width: none;
    object-fit: cover;
    object-position: center;
  }

  .store-front-hero--fullbleed {
    width: 100vw;
    max-width: 100vw;
    margin-left: calc(50% - 50vw);
    margin-right: calc(50% - 50vw);
    border-radius: 0;
  }

  .store-front-hero--flush {
    margin-top: -1.5rem;
  }

  .store-front-fade {
    position: relative;
    height: 0;
    margin-top: -1px;
    z-index: 20;
    pointer-events: none;
  }

  .store-front-fade::before {
    content: "";
    position: absolute;
    inset-inline: 0;
    top: 0;
    height: var(--hero-fade-size, 96px);
    background: linear-gradient(
      to bottom,
      rgb(var(--hero-fade-desktop)) 0%,
      rgb(var(--hero-fade-desktop)) var(--hero-fade-hold, 12%),
      rgba(var(--hero-fade-desktop), var(--hero-fade-mid-alpha, 0.58)) 52%,
      rgba(var(--hero-fade-desktop), calc(var(--hero-fade-mid-alpha, 0.58) * 0.28)) 76%,
      #fafafa 100%
    );
  }

  @media (max-width: 767px) {
    .store-front-fade::before {
      background: linear-gradient(
        to bottom,
        rgb(var(--hero-fade-mobile)) 0%,
        rgb(var(--hero-fade-mobile)) var(--hero-fade-hold, 12%),
        rgba(var(--hero-fade-mobile), var(--hero-fade-mid-alpha, 0.58)) 52%,
        rgba(var(--hero-fade-mobile), calc(var(--hero-fade-mid-alpha, 0.58) * 0.28)) 76%,
        #fafafa 100%
      );
    }
  }

  .store-front-hero__overlay {
    position: relative;
    z-index: 1;
    height: 100%;
    width: min(860px, 100%);
    padding: clamp(1rem, 2.3vw, 1.8rem);
    display: flex;
    flex-direction: column;
    justify-content: flex-end;
    gap: 0.75rem;
    background: linear-gradient(100deg, rgba(9, 9, 11, 0.56) 0%, rgba(9, 9, 11, 0.26) 45%, rgba(9, 9, 11, 0) 88%);
    color: #fff;
  }

  .store-front-hero__chip {
    display: inline-flex;
    width: fit-content;
    border-radius: 9999px;
    border: 1px solid rgba(255, 255, 255, 0.32);
    background: rgba(255, 255, 255, 0.14);
    padding: 0.35rem 0.72rem;
    font-size: 0.72rem;
    font-weight: 800;
    letter-spacing: 0.01em;
    text-transform: uppercase;
  }

  .store-front-hero__title {
    font-size: clamp(1.4rem, 3.6vw, 2.3rem);
    line-height: 1.08;
    font-weight: 900;
    letter-spacing: -0.02em;
    text-wrap: balance;
  }

  .store-front-hero__subtitle {
    max-width: 56ch;
    color: rgba(255, 255, 255, 0.93);
    font-size: clamp(0.9rem, 1.6vw, 1.02rem);
    line-height: 1.45;
    text-wrap: pretty;
  }

  .store-front-hero__actions {
    margin-top: 0.65rem;
    display: grid;
    grid-template-columns: 1fr;
    gap: 0.55rem;
    width: min(420px, 100%);
  }

  @media (min-width: 640px) {
    .store-front-hero__actions {
      grid-template-columns: repeat(2, minmax(0, 1fr));
      width: fit-content;
    }
  }

  .store-toolbar {
    position: static;
    top: auto;
    z-index: auto;
    position: relative;
    z-index: 40;
    margin-top: -22px;
    margin-bottom: 0;
    transition: box-shadow 180ms ease, border-color 180ms ease, background-color 180ms ease;
    backdrop-filter: none;
  }

  @media (max-width: 767px) {
    .store-toolbar {
      margin-top: -14px;
    }
  }

  @media (min-width: 1024px) {
    .store-toolbar {
      margin-top: 8px;
      margin-bottom: 16px;
    }
  }

  .store-toolbar.is-stuck {
    border-color: rgb(186 230 253);
    box-shadow: 0 10px 24px -20px rgba(2, 132, 199, 0.55);
    background-color: rgba(255, 255, 255, 0.95);
  }

  .store-categories {
    position: relative;
    z-index: 30;
  }

  [data-store-results-shell] {
    transition: opacity 180ms ease, transform 180ms ease;
    will-change: opacity, transform;
  }

  [data-store-results-shell].is-loading {
    opacity: 0.48;
    transform: translateY(4px);
    pointer-events: none;
  }

  .store-mobile-sort-btn {
    height: 46px;
    width: 46px;
    flex: 0 0 46px;
    border-radius: 0.95rem;
    border: 1px solid rgb(228 228 231);
    background: #fff;
    color: rgb(9 9 11);
    display: inline-flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 1px 2px rgba(15, 23, 42, 0.05);
  }

  .store-mobile-search-row {
    position: relative;
    display: flex;
    align-items: center;
    gap: 0.5rem;
  }

  @media (min-width: 768px) {
    .store-mobile-search-row {
      display: block;
    }

    .store-mobile-sort-btn {
      display: none !important;
    }
  }

  .store-mobile-sort-btn svg {
    width: 20px;
    height: 20px;
    display: block;
  }

  .store-mobile-sort-menu {
    position: absolute;
    right: 0;
    top: calc(100% + 0.45rem);
    width: min(15rem, 86vw);
    border-radius: 1rem;
    border: 1px solid rgb(228 228 231);
    background: #fff;
    padding: 0.55rem;
    box-shadow: 0 16px 32px -20px rgba(15, 23, 42, 0.45);
    z-index: 40;
  }

  .store-mobile-sort-title {
    font-size: 0.72rem;
    line-height: 1rem;
    font-weight: 800;
    text-transform: uppercase;
    letter-spacing: 0.02em;
    color: rgb(113 113 122);
    padding: 0.2rem 0.3rem 0.45rem;
  }

  .store-mobile-sort-option {
    width: 100%;
    border-radius: 0.75rem;
    padding: 0.5rem 0.7rem;
    text-align: left;
    font-size: 0.84rem;
    font-weight: 700;
    color: rgb(39 39 42);
  }

  .store-mobile-sort-option:hover {
    background: rgb(244 244 245);
  }

  .store-mobile-sort-option.is-active {
    background: rgb(240 249 255);
    color: rgb(12 74 110);
  }


  .reveal-item {
    opacity: 0;
    transform: translateY(8px);
    transition: opacity 260ms ease, transform 260ms ease;
  }

  .reveal-item.is-visible {
    opacity: 1;
    transform: translateY(0);
  }
